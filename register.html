<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>注册</title>
    <link rel="stylesheet" href="登录&注册.css">
</head>
<body>
    <div class="container">
        <div class="login-box">
            <h2>注册</h2>
            <form id="registerForm">
                <div class="input-group">
                    <input type="text" id="registerUsername" required>
                    <label>用户名</label>
                </div>
                <div class="input-group">
                    <input type="email" id="registerEmail" required>
                    <label>邮箱</label>
                </div>
                <div class="input-group">
                    <input type="password" id="registerPassword" required>
                    <label>密码</label>
                </div>
                <div class="input-group">
                    <input type="password" id="confirmPassword" required>
                    <label>确认密码</label>
                </div>
                <button type="submit">注册</button>
                <div class="links">
                    <a href="login.html">返回登录</a>
                </div>
            </form>
        </div>
    </div>

    <script>
        // 模拟用户数据库
let users = JSON.parse(localStorage.getItem('users')) || []; 
// 从 localStorage 中获取用户数据，如果没有数据则初始化为空数组

// 注册逻辑
document.getElementById('registerForm').addEventListener('submit', (e) => { 
    // 监听注册表单的提交事件
    e.preventDefault(); 
    // 阻止表单的默认提交行为（防止页面刷新）

    const username = document.getElementById('registerUsername').value; 
    // 获取用户输入的用户名
    const email = document.getElementById('registerEmail').value; 
    // 获取用户输入的邮箱
    const password = document.getElementById('registerPassword').value; 
    // 获取用户输入的密码
    const confirmPassword = document.getElementById('confirmPassword').value; 
    // 获取用户输入的确认密码

    // 检查密码是否一致
    if (password !== confirmPassword) { 
        // 如果密码和确认密码不一致
        alert('两次输入的密码不一致！'); 
        // 显示错误提示
        return; 
        // 停止执行后续代码
    }

    // 检查用户名是否已存在
    const userExists = users.some(u => u.username === username); 
    // 检查用户名是否已经存在于用户数组中
    if (userExists) { 
        // 如果用户名已存在
        alert('用户名已存在，请使用其他用户名！'); 
        // 显示错误提示
        return; 
        // 停止执行后续代码
    }

    // 注册新用户
    users.push({ username, email, password }); 
    // 将新用户信息添加到用户数组中
    localStorage.setItem('users', JSON.stringify(users)); 
    // 将更新后的用户数组存储到 localStorage 中
    alert('注册成功！请登录。'); 
    // 显示注册成功的提示
    window.location.href = 'login.html'; 
    // 跳转到登录页面
});
    </script>
</body>
</html>